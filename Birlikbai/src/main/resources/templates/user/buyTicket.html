<html xmlns:th="https://thymeleaf.org/">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BusTicket</title>

    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/user/user.css">


</head>
<body class="height-auto">


    <a th:href="@{/user/index}" class="home">HomePage</a>


    <div class="index user-other">
        <h1 style="margin-bottom: 0px;">Информация о поездке</h1>

        <div class="row">

            <label><span class="label-description">Route</span> : <span th:text="${selectedRoute.cities}"></span></label>
            <label><span class="label-description">#Bus</span> : <span th:text="${selectedRoute.busNumber}"></span></label>
            <label><span class="label-description">Date</span> : <span th:text="${selectedRoute.date}"></span></label>
            <label><span class="label-description">Time Start</span> : <span th:text="${selectedRoute.timeStart}"></span></label>
            <label><span class="label-description">Time End</span> : <span th:text="${selectedRoute.timeEnd}"></span></label>

            <label><span class="label-description">Duration of trip</span> : <span th:text="${trip_duration}"></span></label>
            <!--            <label>Available seats: 20/40</label>           dataBase-->
            <label><span class="label-description">Price (seat)</span>: 2000tg</label>
            <label><span class="label-description">Driver Name</span> : <span th:text="${driverName}"></span></label>




            <form th:action="@{/user/payment}" >
                <div class="row">
                    <div class="col-2">
                        <label for="bookingName"><b>bookingName (бронь на имя):</b></label>
                    </div>
                    <div class="col-4">
                        <input type="text" name="bookingName" id="bookingName" style="font-size: 30px"
                               class="form-control" placeholder="Enter bookingName"        value=""/>
                        <!-- value="kabbvs" -->
                    </div>
                </div>

                    <div class="row">
                        <div class="col-2">
                            <label for="seats"><b>seats</b></label>
                        </div>

                        <div class="dynamic-seat" id="seat-dynamic" style="word-break: break-all; font-size: 30px;"></div>

                        <div class="col-4           hidden">
                            <input type="text" name="seats" id="seats"
                                   class="form-control" placeholder=""             value=""/>
                            <!-- value="kabbvs" -->
                        </div>
                    </div>

                    <div class="row           ">
                        <div class="col-2">
                            <label for="price"><b>price</b></label>
                        </div>

                        <div class="flex-row">
                            <label id="show-price">0</label>
                        </div>


                        <div class="col-4           hidden">
                            <input type="text" name="price" id="price"
                                   class="form-control show-price"                 value=""/>
                            <!-- value="2000" -->
                        </div>

                    </div>


                    <div class="row         hidden">
                        <div class="col-2">
                            <label for="scheduleId"><b>scheduleId</b></label>
                        </div>
                        <div class="col-4">
                            <input type="text" name="scheduleId" id="scheduleId"
                                   class="form-control"  th:value="${selectedRoute.id}"/>
                        </div>
                    </div>


                    <input type="submit" value="Забронировать" class="custom-submit"/>
            </form>


            <div id="buyTicket-seat_select">
                <form>
                    <div class="container seat-section">
                        <h2>Please select your seat</h2>
                        <div class="row seat-row">
                            <div class="col-5 first">

                                <div class="flex-row">
                                    <input type="checkbox" id="seat1" autocomplete="off" hidden="hidden"
                                           value="seat1"
                                    ><label class="btn btn-success" for="seat1">1</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat2" autocomplete="off" hidden="hidden"
                                           value="seat2"
                                    ><label class="btn btn-success" for="seat2">2</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat3" autocomplete="off" hidden="hidden"
                                           value="seat3"
                                    ><label class="btn btn-success" for="seat3">3</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat4" autocomplete="off" hidden="hidden"
                                           value="seat4"
                                    ><label class="btn btn-success" for="seat4">4</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat5" autocomplete="off" hidden="hidden"
                                           value="seat5"
                                    ><label class="btn btn-success" for="seat5">5</label><br>
                                </div>

                                <div class="flex-row">
                                    <input type="checkbox" id="seat6" autocomplete="off" hidden="hidden"
                                           value="seat6"
                                    ><label class="btn btn-success" for="seat6">6</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat7" autocomplete="off" hidden="hidden"
                                           value="seat7"
                                    ><label class="btn btn-success" for="seat7">7</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat8" autocomplete="off" hidden="hidden"
                                           value="seat8"
                                    ><label class="btn btn-success" for="seat8">8</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat9" autocomplete="off" hidden="hidden"
                                           value="seat9"
                                    ><label class="btn btn-success" for="seat9">9</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat10" autocomplete="off" hidden="hidden"
                                           value="seat10"><label
                                        class="btn btn-success" for="seat10">10</label><br>
                                </div>

                                <div class="flex-row">
                                    <input
                                            type="checkbox" id="seat11" autocomplete="off" hidden="hidden"
                                            value="seat11"
                                    ><label class="btn btn-success" for="seat11">11</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat12" autocomplete="off" hidden="hidden"
                                           value="seat12"><label
                                        class="btn btn-success" for="seat12">12</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat13" autocomplete="off" hidden="hidden"
                                           value="seat13"><label
                                        class="btn btn-success" for="seat13">13</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat14" autocomplete="off" hidden="hidden"
                                           value="seat14"><label
                                        class="btn btn-success" for="seat14">14</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat15" autocomplete="off" hidden="hidden"
                                           value="seat15"><label
                                        class="btn btn-success" for="seat15">15</label><br>
                                </div>

                                <div class="flex-row">
                                    <input
                                            type="checkbox" id="seat16" autocomplete="off" hidden="hidden"
                                            value="seat16"
                                    ><label class="btn btn-success" for="seat16">16</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat17" autocomplete="off" hidden="hidden"
                                           value="seat17"><label
                                        class="btn btn-success" for="seat17">17</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat18" autocomplete="off" hidden="hidden"
                                           value="seat18"><label
                                        class="btn btn-success" for="seat18">18</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat19" autocomplete="off" hidden="hidden"
                                           value="seat19"><label
                                        class="btn btn-success" for="seat19">19</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat20" autocomplete="off" hidden="hidden"
                                           value="seat20"><label
                                        class="btn btn-success" for="seat20">20</label>
                                </div>

                                <div class="flex-row">
                                    <input type="checkbox" id="seat21" autocomplete="off" hidden="hidden"
                                           value="seat21"
                                    ><label class="btn btn-success" for="seat21">21</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat22" autocomplete="off" hidden="hidden"
                                           value="seat22"
                                    ><label class="btn btn-success" for="seat22">22</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat23" autocomplete="off" hidden="hidden"
                                           value="seat23"
                                    ><label class="btn btn-success" for="seat23">23</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat24" autocomplete="off" hidden="hidden"
                                           value="seat24"
                                    ><label class="btn btn-success" for="seat24">24</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat25" autocomplete="off" hidden="hidden"
                                           value="seat25"
                                    ><label class="btn btn-success" for="seat25">25</label><br>

                                </div>

                                <div class="flex-row">
                                    <input type="checkbox" id="seat26" autocomplete="off" hidden="hidden"
                                           value="seat26"
                                    ><label class="btn btn-success" for="seat26">26</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat27" autocomplete="off" hidden="hidden"
                                           value="seat27"
                                    ><label class="btn btn-success" for="seat27">27</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat28" autocomplete="off" hidden="hidden"
                                           value="seat28"
                                    ><label class="btn btn-success" for="seat28">28</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat29" autocomplete="off" hidden="hidden"
                                           value="seat29"
                                    ><label class="btn btn-success" for="seat29">29</label>&nbsp;&nbsp;&nbsp;

                                    <input type="checkbox" id="seat30" autocomplete="off" hidden="hidden"
                                           value="seat30"><label
                                        class="btn btn-success" for="seat30">30</label><br>

                                </div>

                                <div class="flex-row">
                                    <input
                                            type="checkbox" id="seat31" autocomplete="off" hidden="hidden"
                                            value="seat31"
                                    ><label class="btn btn-success" for="seat31">31</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat32" autocomplete="off" hidden="hidden"
                                           value="seat32"><label
                                        class="btn btn-success" for="seat32">32</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat33" autocomplete="off" hidden="hidden"
                                           value="seat33"><label
                                        class="btn btn-success" for="seat33">33</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat34" autocomplete="off" hidden="hidden"
                                           value="seat34"><label
                                        class="btn btn-success" for="seat34">34</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat35" autocomplete="off" hidden="hidden"
                                           value="seat35"><label
                                        class="btn btn-success" for="seat35">35</label><br>

                                </div>

                                <div class="flex-row">
                                    <input
                                            type="checkbox" id="seat36" autocomplete="off" hidden="hidden"
                                            value="seat36"
                                    ><label class="btn btn-success" for="seat36">36</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat37" autocomplete="off" hidden="hidden"
                                           value="seat37"><label
                                        class="btn btn-success" for="seat37">37</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat38" autocomplete="off" hidden="hidden"
                                           value="seat38"><label
                                        class="btn btn-success" for="seat38">38</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat39" autocomplete="off" hidden="hidden"
                                           value="seat39"><label
                                        class="btn btn-success" for="seat39">39</label>&nbsp;&nbsp;

                                    <input type="checkbox" id="seat40" autocomplete="off" hidden="hidden"
                                           value="seat40"><label
                                        class="btn btn-success" for="seat40">40</label>

                                </div>

                            </div>

                        </div>
                    </div>
                </form>
            </div>






        </div>

        <!--        <a th:href="@{/user/payment}">Забронировать</a>-->
    </div>





    <script>


        const mySeats = document.getElementById('seat-dynamic');
        const myPrice = document.getElementById('show-price');
        const seatsInput = document.getElementById('seats');
        const priceInput = document.getElementById('price');
        var total = 0;
        var seat = [];
        const checkBox = document.querySelectorAll('input[type="checkbox"]');
        for (var i = 0; i < checkBox.length; i++) {
            checkBox[i].addEventListener('click', displayValue);

        }
        function displayValue(e) {
            var myValue = 2000;
            if (e.target.checked == true) {
                seat.push(e.target.id);

                total += myValue;

            } else {
                var index = seat.indexOf(e.target.id);
                seat.splice(index, 1);
                total -= myValue;

            }
            // seat.join("");
            console.log(seat);
            console.log(total);
            mySeats.innerHTML = seat;
            myPrice.innerHTML = total + 'tg';
            priceInput.value = total;
            seatsInput.value = seat;
        }
    </script>






</body>
</html>